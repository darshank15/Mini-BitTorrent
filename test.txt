void printHash(unsigned char *md)
{
	int i;

	for (i=0; i<SHA_DIGEST_LENGTH; i++)
        printf("%02x",md[i]);
    printf("\n");
}


void makefilHash(FILE *f)
 {

   
 	SHA_CTX c;
	unsigned char md[SHA_DIGEST_LENGTH];
  	int fd;	
  	int i;
 	unsigned char buf[BUFSIZE];
  
	fd=fileno(f);
	SHA1_Init(&c);
	for (;;)
	{
		i=read(fd,buf,BUFSIZE);
		if (i <= 0) break;
		SHA1_Update(&c,buf,(unsigned long)i);
	}
	SHA1_Final(&(md[0]),&c);
	printHash(md);
}


FILE *f;
    f = fopen(fpath, "r");